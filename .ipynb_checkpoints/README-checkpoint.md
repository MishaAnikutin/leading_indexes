# Создание опережающих индикаторы на основе частоты поисковых запросов в Google

На сайте https://trends.google.ru/trends/ собрана статистика популярности поисковых запросов (и тем). Появилась гипотеза, что по ним можно строить опережающие индикаторы, как по новостному индексу. 

Популярность запроса нормируется к общем учислу запросов и заключена от 0 до 100. 

Данные есть с 2004 года, поэтому выбрал эту платформу, а не Вордстат от яндекса (https://wordstat.yandex.ru/)

__Для составления индекса можно брать ключевые слова, которые больше всего влияют на индекс (можно получить из анализа новостей) и получить по ним данные популярности запроса__

Вообще на сайте также публикуются самые популярные запросы сейчас, по их семантике можно что то предсказывать даже
## Для прогноза ИПЦ лучше всего подходили следующие запросы
- Инфляция (запрос оказался сезонным, видимо из-за периодов отчетностей, поэтому привел к % к соотв. периоду предыдущего года)
- Курс Юаня (курс доллара показывал худшее качество модели, а между собой они сильно коррелируют)
- Дефолт
- COVID-19
- Российско-украинская война

Последние брались в сумме (стобец `Причина кризиса*`). Это было сделано т.к. они равны нулю всюду, кроме периода их кризиса, а их сумма это популярность запроса конкретного кризиса в стране)

## Качество прогноза ИПЦ

Модель CatBoost с признаками этих запросов с лагом в 1-3 месяца и лагом ИПЦ на 1 месяц получила следующее качество:

| Показатель  | Величина |
| ------------- | ------------- |
| R^2  | 0.996 |
| MAPE Train  | 4.5% |
| MAPE Test  | 15.7% |

Что считаю хорошим результатом, поскольку прогноз основывался на ожидаемых величинах, а не качественных. В совокупности с качественными признаками (таких как: курс Доллара/Юаня, доля денежных аггрегатов в денежной массе, индекс бизнес климата и тд.) модель может иметь достаточно высокое качество, в силу опережающей силы кризисных поисковых запросов

![Прогноз ИПЦ](./forecast.png)